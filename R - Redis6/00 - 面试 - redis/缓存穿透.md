### 缓存穿透

穿透：无了，不存在的东西，不存在的id

对一个不存在的id进行大量请求，比如id为-1，因为缓存中肯定不存在该id，从而导致每次的请求都需要到数据库查找，造成数据库压力巨大或者崩溃

### 什么时候会出现缓存穿透

1、redis查询不到

2、出现了很多非正常的url，一般是恶意攻击

### 怎么解决缓存穿透？

1、对空值做缓存

    将那些不存在的key对应的值设为null，然后放到redis。并且设置好过期时间。 过期时间最长不超过五分钟。

    评价：简单的应急方式

2、设置白名单

    使用bitmaps类型定义一个可以访问的白名单

    做法：名单id作为bitmaps的偏移量，每次访问都和bitmaps里的id进行比较，如果id不在里面，则进行拦截限制访问

    评价：每次访问都需要白名单，效率不高。

    怎么设置白名单？

3、布隆过滤器

    它本质是一个很长的二进制向量（位图）和一系列的随机映射函数（哈希函数）

    布隆过滤器可以用于检索一个元素是否在一个集合中。

    将所有可能存在的数据哈希到一个足够大的bitmaps中，一个一定不存在的数据会被这个bitmaps拦截，从而避免了对底层存储系统的查询压力。

    优点：空间效率和查询效率远远超过一般的算法

    缺点：有一定的误识别率和删除困难。

4、进行实时监控

    当发现redis的命中率急剧降低，需要排查访问对象和访问的数据，和运维人员配合，可以设置黑名单

5、报警

    向网警报警，请求帮助