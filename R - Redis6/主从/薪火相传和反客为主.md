## 薪火相传和反客为主

### 薪火相传

说明

    一个主机A，多个从机B和C

    主机A复制数据给从机B，从机B复制数据给从机C。  A和C不直接进行连接

操作

    从机B：slaveof 主机A的ip 主机A的端口

    从机C：slaveof 主机B的ip 主机B的端口

缺点

    中间从机挂掉的话，后面就无法复制数据了

助记

    我儿子的儿子不是我的儿子

### 反客为主

说明

    当主机挂掉之后，后面的从机可以升级为主机，其余后面的从机不用做任何修改

操作

    A的从机是B，B的从机是C

    当A挂掉，B从机执行 : slaveof no one ，即可成为新的主机，后面跟着从机C

缺点

    需要手动完成从机变主机

    优化：哨兵模式