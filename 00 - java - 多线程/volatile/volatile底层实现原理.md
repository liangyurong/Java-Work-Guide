## volatile底层实现原理

底层实现是内存屏障。

在对volatile修饰的成员变量进行读写时，会插入内存屏障，而内存屏障可以达到禁止重排序的效果，从而保证有序性。

    对volatile变量的写指令后会加入屏障

        写屏障会确保指令重排序时，不会将写屏障之前的代码排在写屏障之后。

    对volatile变量的读指令前会加入屏障

        读屏障会确保指令重排序时，不会将读屏障之后的代码排在读屏障之前