### 栈

1、在方法中定义的基本类型的变量数据（int, short, long, byte, float, double, boolean, char）和对象的引用变量都在函数的栈内存中分配。
    
    栈内存中的数据使用完毕会自动释放

    局部变量都放在栈内存中。比如for循环，while循环里面的变量，还有方法的参数。

    string str=“aaa”; str直接存储在栈内存中的常量池，str存储着字符串符号aaa

2、栈中主要存放一些基本类型的变量数据和对象句柄(引用)。

3、当在一段代码块定义一个变量时，Java就在栈中为这个变量分配内存空间，当该变量退出该作用域后，Java会自动释放掉为该变量所分配的内存空间，该内存空间可以立即被另作他用。

4、每个线程包含一个栈区，每个栈中的数据(原始类型和对象引用)都是私有的，其他栈不能访问。栈分为3个部分：基本类型变量区、执行环境上下文、操作指令区(存放操作指令)。

    每个线程启动后，虚拟机就会为该线程分配一块栈内存

    每个线程只能有一个活动栈帧，对应着当前执行的那个方法

    方法执行完，栈内存被直接释放，不经过垃圾回收。

5、优势：存取速度比堆要快，仅次于寄存器，栈数据可以共享(指的是线程共享，而给进程共享)

6、缺点：存在栈中的数据大小与生存期必须是确定的，缺乏灵活性。

7、举例子
```text
栈存的一个是基本的数据类型，int i = 1; 其实i是一个指向int类型的引用。

1存在栈中，i指向1的地址（作用和指针一个样），如果此时有int j = 1; 由于共享性，就不会再开辟一个新的1的地址。直接让i和j指向同一个地址。
```
