
### 服务器cpu占用100%

定位耗费cpu的进程 （再输入P可以进行排序）

    top c

定位进程内耗费cpu的线程

    top -Hp 进程号

将线程PID转化为16进制

    printf "%x" 10804
    结果: 0x7a0a
    备注:之所以要转化为16进制，是因为堆栈里，线程id是用16进制表示的。

查看堆栈，找到线程在干嘛

    根据16进制格式的线程ID查找线程堆栈信息

    jstack pid | grep -A 16进制PID （需要在linux安装java，因为jstack是java的命令）

    

分析程序线程对应代码

    业务代码：考虑常见的死循环，慢sql等问题

    gc线程日志代码：需要修改jvm参数，将jvm日志保存下来分析。
