### Java程序占用cpu100%如何排查解决

前言: CPU占用100则表示当前有计算密集类型线程正在执行并处于无法退出/执行计算难度很大的状态(比如死循环和大量对象未死亡时的GC扫描阶段)

查看GC是否正常,当有大量小对象存在,则GC会非常占用资源

查看占用资源的线程信息,根据线程执行信息定位代码问题

查看占用最高进程: top查看占用最高PID

查看该进程的可疑线程: top -H -p PID 查看当前进程中占用最高线程

打印输出可疑线程16位字符: printf "%x\n" 线程PID或echo "obase=16;线程PID" | bc

打印程序线程并查询对应线程信息: jstack pid | grep -A num 16进制PID

查看线程栈信息的调用路径以及当前所处方法,查看代码逻辑

### 阻塞状态线程会让CPU100吗？

CPU使用率的飙升更多是由于执行计算密集型任务导致的,而处于阻塞状态的线程在等待时间分片尚未执行,所以不会导致CPU使用率上升

### 死锁为啥会让CPU占用100

当出现锁竞争时,自旋锁会一直循环执行获取锁操作，直至到达重试次数或者获取到锁，使得cpu陷入忙等待状态。

### 















